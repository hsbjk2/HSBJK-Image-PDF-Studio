<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HSBJK Image Resizer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap" rel="stylesheet">

<style>
:root{
  --neon:#00f7ff;
  --pink:#ff2fdc;
  --glass:rgba(255,255,255,0.08);
}

*{box-sizing:border-box;font-family:'Poppins',sans-serif}

body{
  margin:0;
  min-height:100vh;
  background:radial-gradient(circle at top,#0b1a2e,#02040a);
  color:white;
  text-align:center;
}

header{padding:30px}
header h1{
  font-size:40px;
  background:linear-gradient(90deg,var(--neon),var(--pink));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

.upload,.controls{
  max-width:900px;
  margin:20px auto;
  padding:20px;
  background:var(--glass);
  border-radius:18px;
  backdrop-filter:blur(14px);
}

.controls{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:15px;
}

label{
  font-size:14px;
  opacity:.85;
  display:block;
  margin-bottom:6px;
}

input,select{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:none;
  outline:none;
  background:#0c1424;
  color:white;
}

input:disabled{opacity:.4}

.image-area{
  display:none;
  margin:30px auto;
  width:fit-content;
  box-shadow:0 0 35px var(--neon);
  border-radius:18px;
  overflow:hidden;
}

.image-area img{
  max-width:100%;
  display:block;
}

button{
  margin:25px;
  padding:14px 30px;
  border:none;
  border-radius:16px;
  font-weight:600;
  cursor:pointer;
  background:linear-gradient(90deg,var(--neon),var(--pink));
  transition:.25s;
}

button:hover{
  transform:scale(1.07);
  box-shadow:0 0 30px var(--neon);
}

footer{opacity:.6;padding:20px}
canvas{display:none}
</style>
</head>

<body>

<header>
  <h1>HSBJK Image Resizer</h1>
  <p>Resize by Pixels • CM • DPI</p>
</header>

<div class="upload">
  <input type="file" id="upload" accept="image/*">
</div>

<div class="controls">

  <div>
    <label>Resize Mode</label>
    <select id="mode">
      <option value="px">Pixels (px)</option>
      <option value="cm">Centimeters (cm)</option>
      <option value="dpi">DPI</option>
    </select>
  </div>

  <div>
    <label>Width (px / cm)</label>
    <input type="number" id="width">
  </div>

  <div>
    <label>Height (px / cm)</label>
    <input type="number" id="height">
  </div>

  <div>
    <label>DPI</label>
    <input type="number" id="dpi" value="300">
  </div>

  <div>
    <label>
      <input type="checkbox" id="lock" checked>
      Lock Aspect Ratio
    </label>
  </div>

</div>

<div class="image-area" id="imageArea">
  <img id="image">
</div>

<button onclick="resizeImage()">Resize & Download</button>

<footer>© 2025 HSBJK • Image Resizer</footer>

<canvas id="canvas"></canvas>

<script>
const upload=document.getElementById("upload");
const image=document.getElementById("image");
const imageArea=document.getElementById("imageArea");
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");

const mode=document.getElementById("mode");
const width=document.getElementById("width");
const height=document.getElementById("height");
const dpi=document.getElementById("dpi");
const lock=document.getElementById("lock");

let ow, oh;

// Load image
upload.onchange=e=>{
  const file=e.target.files[0];
  if(!file) return;
  const r=new FileReader();
  r.onload=()=>{
    image.src=r.result;
    image.onload=()=>{
      imageArea.style.display="block";
      ow=image.naturalWidth;
      oh=image.naturalHeight;
      dpi.value=300;
      updateMode();
    }
  };
  r.readAsDataURL(file);
};

// Update UI on mode change
mode.addEventListener("change",updateMode);

function updateMode(){
  if(!ow) return;

  if(mode.value==="px"){
    width.value=ow;
    height.value=oh;
  }

  if(mode.value==="cm" || mode.value==="dpi"){
    width.value=(ow*2.54/dpi.value).toFixed(2);
    height.value=(oh*2.54/dpi.value).toFixed(2);
  }
}

// Recalculate when DPI changes
dpi.addEventListener("input",()=>{
  if(!ow) return;
  if(mode.value==="cm" || mode.value==="dpi"){
    width.value=(ow*2.54/dpi.value).toFixed(2);
    height.value=(oh*2.54/dpi.value).toFixed(2);
  }
});

// Resize & download
function resizeImage(){
  let w,h;

  if(mode.value==="px"){
    w=+width.value;
    h=lock.checked ? w*oh/ow : +height.value;
  }

  if(mode.value==="cm" || mode.value==="dpi"){
    w=width.value*dpi.value/2.54;
    h=lock.checked ? w*oh/ow : height.value*dpi.value/2.54;
  }

  canvas.width=w;
  canvas.height=h;
  ctx.drawImage(image,0,0,w,h);

  const a=document.createElement("a");
  a.download="HSBJK_Resized.png";
  a.href=canvas.toDataURL();
  a.click();
}
</script>

</body>
</html>
